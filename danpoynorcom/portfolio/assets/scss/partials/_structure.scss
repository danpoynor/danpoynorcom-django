// structure css

// include padding in box widths
// re: http://www.paulirish.com/2012/box-sizing-border-box-ftw/
*,
*:before,
*:after {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

//*:focus,
*:active {
  outline: none !important;
}

html,
body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  background-color: $body-background-color;
  background-color: var(--t9);
  background-image: url(/static/images/backgrounds/tile.png);
  background-attachment: fixed;
  transition: background-color $transition-speed ease-out;
  //background-image: url(/wp-content/themes/danpoynor-2017/images/backgrounds/bg-tile.png);
  overflow-anchor: none; //  in Chrome, removes freezing the page scroll till content below the fold is loaded
}

body {
  position: relative;
  min-height: 100%;
  margin: 0;
}

/* for older browsers */
header,
main,
section,
article,
aside,
nav,
figure,
figcaption,
footer {
  display: block;
}

main {
  background-color: $background-color;
  background-color: var(--t4);
  transition: background-color $transition-speed ease-out;
  min-height: 20em;
  margin: 0 auto;
  //padding: 0 0 1em;
  padding: 0;
  width: 100%;
}


.home {
  main {
    background-color: transparent;
    padding-top: 0;
  }
}

section {
  width: 100%;

  &.thumbnails {
    min-height: 16em;
  }

}

.container {
  margin: 0 auto;
  padding: 0 1em;
  position: relative;
  width: 100%;
  max-width: 1182px;

  &.portfolio-page,
  &.client-page,
  &.taxonomy-project-page {
    max-width: none;
  }

  .thumbnail-previews & {
    //max-width: 1172px;
  }

  .thumbnail-previews .container {
    padding: 0;
  }

}

img {
  border-style: none;
  display: block;
  vertical-align: top;
}

.screen-reader-text {
  display: none;
}


body {

  >header {
    //position: fixed;
    //z-index: 100;

    .container {
      height: 7em;
    }

  }

  .wrapper {
    //padding-top: 7em;
  }


  @media only screen and (max-width: $iphone-landscape-width) {

    >header {
      position: relative;

      .container {
        height: auto;
      }

    }

    .wrapper {
      padding-top: 0;
    }

  }

}

@media only screen and (max-width: 652px) {

  //	.nomobiledisplay-smallest {
  //		display: none;
  //	}

}

.stage {

  .display-column {
    flex: 0 1 63.4517766497462%; // 750px (766-16 for right margin) / 1182
    min-width: 320px;

    p:first-of-type {
      margin-top: 0;
    }

  }

  .project-details {
    flex: 0 0 35.1945854483926%; // 416px / 1182
  }

}

//@media only screen and (max-width: $iphone-landscape-width) {
@media only screen and (max-width: 980px) {

  .stage .display-column {
    flex: none;
    min-width: 100%;
    width: 100%;
    text-align: center;

    div {
      max-width: 100%;
    }

    img,
    table {
      display: initial;
    }

  }

  .stage .project-details {
    min-width: 100%;
  }

  #main .stage .business-card,
  #main .stage .promo-postcard {

    img {
      max-width: 100%;
    }

  }

}

main header.error-message {
  margin: 0;
  padding: 2em 0;
}
